<h1 style="text-align: center"> </h1>

{{#each comments}}
<div class="card">

    <h2> {{this.name}}</h1>
    <h4> {{this.body}}</h4>
    <p>{{createdAt}}</p>
    <button class='delete-btn' name={{this.id}}>Delete </button>
     {{!-- TODO: Look at the activity that had the time formatted - format time -- --}}
</div>
{{/each}}
    {{!-- <button type="button" class="btn btn-info" id="newPost">Add a Post</button> --}}

    

    <script>


        // Do fetch to delte comment route!!
        $('.delete-btn').on('click', function() {
            console.log('ID of comment to delte!! send to backend route!! so it cna delte!!', $(this).attr('name'))
        })

        const delButtonHandler = async (event) => {
            if (event.target.hasAttribute('name')) {
                const id = event.target.getAttribute('name');

                const response = await fetch(`/user${id}`, {
                method: 'DELETE',
                });

                if (response.ok) {
                document.location.replace('/topic');
                } else {
                alert('Failed to delete project');
                }
            }
            };

document
  .querySelector('.project-list')
  .addEventListener('click', delButtonHandler);

        
    </script>